"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6624,6752],{72676:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>g,contentTitle:()=>C,default:()=>L,frontMatter:()=>m,metadata:()=>O,toc:()=>_});var a=n(45072),r=n(11504),o=n(95788),i=n(79192),l=n(62252);const c="// delete-start\n/* Note: this file shouldn't be used directly because it has some constants which are set by\nthe docusaurus site to ensure that the chart looks great in both dark and light color themes.\nIf you want to use this example then please copy the code presented on the documentation site.\n[link](https://tradingview.github.io/lightweight-charts/tutorials/react/simple) */\n// delete-end\nimport { createChart, ColorType } from 'lightweight-charts';\nimport React, { useEffect, useRef } from 'react';\n\nexport const ChartComponent = props => {\n\tconst {\n\t\tdata,\n\t\tcolors: {\n\t\t\tbackgroundColor = CHART_BACKGROUND_COLOR,\n\t\t\tlineColor = LINE_LINE_COLOR,\n\t\t\ttextColor = CHART_TEXT_COLOR,\n\t\t\tareaTopColor = AREA_TOP_COLOR,\n\t\t\tareaBottomColor = AREA_BOTTOM_COLOR,\n\t\t} = {},\n\t} = props;\n\n\tconst chartContainerRef = useRef();\n\n\tuseEffect(\n\t\t() => {\n\t\t\tconst handleResize = () => {\n\t\t\t\tchart.applyOptions({ width: chartContainerRef.current.clientWidth });\n\t\t\t};\n\n\t\t\tconst chart = createChart(chartContainerRef.current, {\n\t\t\t\tlayout: {\n\t\t\t\t\tbackground: { type: ColorType.Solid, color: backgroundColor },\n\t\t\t\t\ttextColor,\n\t\t\t\t},\n\t\t\t\twidth: chartContainerRef.current.clientWidth,\n\t\t\t\theight: 300,\n\t\t\t});\n\t\t\tchart.timeScale().fitContent();\n\n\t\t\tconst newSeries = chart.addAreaSeries({ lineColor, topColor: areaTopColor, bottomColor: areaBottomColor });\n\t\t\tnewSeries.setData(data);\n\n\t\t\twindow.addEventListener('resize', handleResize);\n\n\t\t\treturn () => {\n\t\t\t\twindow.removeEventListener('resize', handleResize);\n\n\t\t\t\tchart.remove();\n\t\t\t};\n\t\t},\n\t\t[data, backgroundColor, lineColor, textColor, areaTopColor, areaBottomColor]\n\t);\n\n\treturn (\n\t\t<div\n\t\t\tref={chartContainerRef}\n\t\t/>\n\t);\n};\n\nconst initialData = [\n\t{ time: '2018-12-22', value: 32.51 },\n\t{ time: '2018-12-23', value: 31.11 },\n\t{ time: '2018-12-24', value: 27.02 },\n\t{ time: '2018-12-25', value: 27.32 },\n\t{ time: '2018-12-26', value: 25.17 },\n\t{ time: '2018-12-27', value: 28.89 },\n\t{ time: '2018-12-28', value: 25.46 },\n\t{ time: '2018-12-29', value: 23.92 },\n\t{ time: '2018-12-30', value: 22.68 },\n\t{ time: '2018-12-31', value: 22.67 },\n];\n\nexport function App(props) {\n\treturn (\n\t\t<ChartComponent {...props} data={initialData}></ChartComponent>\n\t);\n}\n";var s=n(88440);const p=t=>{const{data:e,colors:{backgroundColor:n=CHART_BACKGROUND_COLOR,lineColor:a=LINE_LINE_COLOR,textColor:o=CHART_TEXT_COLOR,areaTopColor:i=AREA_TOP_COLOR,areaBottomColor:l=AREA_BOTTOM_COLOR}={}}=t,c=(0,r.useRef)();return(0,r.useEffect)((()=>{const t=()=>{r.applyOptions({width:c.current.clientWidth})},r=(0,s.yR)(c.current,{layout:{background:{type:s.Uz.Solid,color:n},textColor:o},width:c.current.clientWidth,height:300});r.timeScale().fitContent();return r.addAreaSeries({lineColor:a,topColor:i,bottomColor:l}).setData(e),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t),r.remove()}}),[e,n,a,o,i,l]),r.createElement("div",{ref:c})},u=[{time:"2018-12-22",value:32.51},{time:"2018-12-23",value:31.11},{time:"2018-12-24",value:27.02},{time:"2018-12-25",value:27.32},{time:"2018-12-26",value:25.17},{time:"2018-12-27",value:28.89},{time:"2018-12-28",value:25.46},{time:"2018-12-29",value:23.92},{time:"2018-12-30",value:22.68},{time:"2018-12-31",value:22.67}];function d(t){return r.createElement(p,(0,a.c)({},t,{data:u}))}var h=n(11736);const m={sidebar_label:"Simple example",hide_table_of_contents:!0},C="React - Simple example",O={unversionedId:"react/simple",id:"react/simple",title:"React - Simple example",description:"The following only describes a relatively simple example that only renders an area series that could be tweaked to render any other type of series.",source:"@site/tutorials/react/01-simple.mdx",sourceDirName:"react",slug:"/react/simple",permalink:"/lightweight-charts/tutorials/react/simple",draft:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_label:"Simple example",hide_table_of_contents:!0},sidebar:"tutorialsSidebar",previous:{title:"Conclusion",permalink:"/lightweight-charts/tutorials/a11y/conclusion"},next:{title:"Advanced example",permalink:"/lightweight-charts/tutorials/react/advanced"}},g={},_=[{value:"Preparing your project",id:"preparing-your-project",level:2},{value:"Creating a charting component",id:"creating-a-charting-component",level:2}],R={toc:_},y="wrapper";function L(t){let{components:e,...n}=t;return(0,o.yg)(y,(0,a.c)({},R,n,{components:e,mdxType:"MDXLayout"}),(0,o.yg)("h1",{id:"react---simple-example"},"React - Simple example"),(0,o.yg)("admonition",{type:"info"},(0,o.yg)("p",{parentName:"admonition"},"The following only describes a relatively simple example that only renders an ",(0,o.yg)("a",{parentName:"p",href:"/docs/series-types#area"},"area series")," that could be tweaked to render any other type of ",(0,o.yg)("a",{parentName:"p",href:"/docs/series-types"},"series"),"."),(0,o.yg)("p",{parentName:"admonition"},"For a more complete scenario where you could wrap Lightweight Charts\u2122 into a component having sub components, please consult this ",(0,o.yg)("a",{parentName:"p",href:"./advanced"},"example"),".")),(0,o.yg)("p",null,"On this page you will learn how to easily use Lightweight Charts\u2122 with React."),(0,o.yg)("h2",{id:"preparing-your-project"},"Preparing your project"),(0,o.yg)("p",null,"For the example purpose we are using ",(0,o.yg)("a",{parentName:"p",href:"https://github.com/brandiqa/react-parcel-starter"},"Parcel starter kit")," but feel free to use any other tool or starter kit."),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-console"},"git clone git@github.com:brandiqa/react-parcel-starter.git lwc-react\ncd lwc-react\nnpm install\n")),(0,o.yg)("p",null,"To run your project simply"),(0,o.yg)("pre",null,(0,o.yg)("code",{parentName:"pre",className:"language-console"},"npm start\n")),(0,o.yg)("p",null,"This will create a web page accessible by default on ",(0,o.yg)("a",{parentName:"p",href:"http://localhost:1234/"},"http://localhost:1234/"),"."),(0,o.yg)("h2",{id:"creating-a-charting-component"},"Creating a charting component"),(0,o.yg)("p",null,"The example ",(0,o.yg)("em",{parentName:"p"},"React component")," on this page may not fit your requirements completely. Creating a general purpose declarative wrapper for Lightweight Charts\u2122 imperative API is a challenge, but hopefully you can adapt this example to your use case."),(0,o.yg)("admonition",{type:"info"},(0,o.yg)("p",{parentName:"admonition"},"For this example we are using props to set chart colors based on the current theme (light or dark). In your real code it might be a better idea to use a ",(0,o.yg)("a",{parentName:"p",href:"https://reactjs.org/docs/context.html#when-to-use-context"},"Context"),".")),(0,o.yg)(l.cp,{replaceThemeConstants:!0,className:"language-jsx",mdxType:"CodeBlock"},c),(0,o.yg)("p",null,"and you'll have a reusable component that could then be enhanced, tweaked to meet your needs, adding properties and even functionalities."),(0,o.yg)("p",null,"If you've successfully followed all the steps you should see something similar to"),(0,o.yg)("div",{className:h.c.ChartContainer},(0,o.yg)(i.W,{ChartComponent:d,mdxType:"ThemedChart"})))}L.isMDXComponent=!0},62252:(t,e,n)=>{n.d(e,{cp:()=>g});var a=n(11504),r=n(89066),o=n(60656),i=n(66528),l=n(94592),c=n(14640);function s(t,e,n){t.addEventListener("resize",(()=>{const t=e.getBoundingClientRect();n(t.width,t.height)}),!0)}const p={3.8:async t=>{const e=await n.e(7168).then(n.bind(n,37168));return{module:e,createChart:(n,a)=>{const r=e.createChart(n,a);return s(t,n,r.resize.bind(r)),r}}},"4.0":async t=>{const e=await n.e(5452).then(n.bind(n,5452));return{module:e,createChart:(n,a)=>{const r=e.createChart(n,a);return s(t,n,r.resize.bind(r)),r}}},4.1:async t=>{const e=await n.e(4956).then(n.bind(n,64956));return{module:e,createChart:(n,a)=>{const r=e.createChart(n,a);return s(t,n,r.resize.bind(r)),r}}},current:async()=>{const t=await n.e(7152).then(n.bind(n,27152));return{module:t,createChart:(e,n)=>{const a=t.createChart(e,n);return s(window,e,a.resize.bind(a)),a}}}},u="iframe_R_Fr";function d(t){const{script:e,iframeStyle:n}=t,{preferredVersion:r}=(0,l.iy)(),o=c&&c.length>0?c[0]:"",i=r?.name??o??"current",s=function(t){return`\n\t\t<style>\n\t\t\thtml,\n\t\t\tbody,\n\t\t\t#container {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\toverflow: hidden;\n\t\t\t\tmargin: 0;\n\t\t\t}\n\t\t</style>\n\t\t<div id="container"></div>\n\t\t<script>\n\t\t\twindow.run = () => {\n\t\t\t\t${t}\n\t\t\t};\n\t\t<\/script>\n\t`}(e),d=a.useRef(null);return a.useEffect((()=>{const t=d.current,e=t?.contentWindow,n=t?.contentDocument;if(null===t||!e||!n)return;const a=async()=>{try{const{module:t,createChart:n}=await p[i](e);Object.assign(e,t),e.createChart=n,e.run?.()}catch(t){console.error(t)}};if(void 0!==e.run)a();else{const e=()=>{a(),t.removeEventListener("load",e)};t.addEventListener("load",e)}}),[s]),a.createElement("iframe",{key:e,ref:d,srcDoc:s,className:u,style:n})}var h=n(48256);const m=()=>`${Math.random().toString(36).slice(2,11)}`;function C(t){return"string"==typeof t?t:function(){const[t,e]=(0,a.useState)("");return(0,a.useEffect)((()=>e(m())),[]),t}()}const O=Object.keys(h.v.DARK);const g=t=>{const{chart:e,replaceThemeConstants:n,hideableCode:l,chartOnly:c,iframeStyle:s,...p}=t;let{children:m}=t;const{colorMode:g}=(0,i.U)(),_="dark"===g,R=C();return n&&"string"==typeof m&&(m=function(t,e){const n=e?h.v.DARK:h.v.LIGHT;let a=t;for(const r of O)a=a.replace(new RegExp(r,"g"),`'${n[r]}'`);return a}(m,_)),m=m.replace(new RegExp(/\/\/ delete-start[\w\W]*?\/\/ delete-end/,"gm"),""),e||l?a.createElement(a.Fragment,null,l&&a.createElement(a.Fragment,null,a.createElement("input",{id:R,type:"checkbox",className:"toggle-hidden-lines"}),a.createElement("label",{className:"toggle-label",htmlFor:R},"Show all code")),!c&&a.createElement(r.c,p,m),e&&a.createElement(o.c,{fallback:a.createElement("div",{className:u},"\xa0")},(()=>a.createElement(d,{script:m,iframeStyle:s})))):a.createElement(r.c,p,m)}},79192:(t,e,n)=>{n.d(e,{W:()=>l});var a=n(66528),r=n(11504),o=n(48256);function i(t){const e=t?"DARK":"LIGHT";return{backgroundColor:o.v[e].CHART_BACKGROUND_COLOR,lineColor:o.v[e].LINE_LINE_COLOR,textColor:o.v[e].CHART_TEXT_COLOR,areaTopColor:o.v[e].AREA_TOP_COLOR,areaBottomColor:o.v[e].AREA_BOTTOM_COLOR}}function l(t){const{ChartComponent:e}=t,n=function(){const{colorMode:t}=(0,a.U)(),e="dark"===t,[n,o]=(0,r.useState)(i(e));return(0,r.useEffect)((()=>{o(i(e))}),[e]),n}();return r.createElement(e,{colors:n})}},48256:(t,e,n)=>{n.d(e,{v:()=>a});const a={DARK:{CHART_BACKGROUND_COLOR:"black",CHART_BACKGROUND_RGB_COLOR:"0, 0, 0",LINE_LINE_COLOR:"#2962FF",AREA_TOP_COLOR:"#2962FF",AREA_BOTTOM_COLOR:"rgba(41, 98, 255, 0.28)",BAR_UP_COLOR:"#26a69a",BAR_DOWN_COLOR:"#ef5350",BASELINE_TOP_LINE_COLOR:"rgba( 38, 166, 154, 1)",BASELINE_TOP_FILL_COLOR1:"rgba( 38, 166, 154, 0.28)",BASELINE_TOP_FILL_COLOR2:"rgba( 38, 166, 154, 0.05)",BASELINE_BOTTOM_LINE_COLOR:"rgba( 239, 83, 80, 1)",BASELINE_BOTTOM_FILL_COLOR1:"rgba( 239, 83, 80, 0.05)",BASELINE_BOTTOM_FILL_COLOR2:"rgba( 239, 83, 80, 0.28)",HISTOGRAM_COLOR:"#26a69a",CHART_TEXT_COLOR:"white"},LIGHT:{CHART_BACKGROUND_COLOR:"white",CHART_BACKGROUND_RGB_COLOR:"255, 255, 255",LINE_LINE_COLOR:"#2962FF",AREA_TOP_COLOR:"#2962FF",AREA_BOTTOM_COLOR:"rgba(41, 98, 255, 0.28)",BAR_UP_COLOR:"#26a69a",BAR_DOWN_COLOR:"#ef5350",BASELINE_TOP_LINE_COLOR:"rgba( 38, 166, 154, 1)",BASELINE_TOP_FILL_COLOR1:"rgba( 38, 166, 154, 0.28)",BASELINE_TOP_FILL_COLOR2:"rgba( 38, 166, 154, 0.05)",BASELINE_BOTTOM_LINE_COLOR:"rgba( 239, 83, 80, 1)",BASELINE_BOTTOM_FILL_COLOR1:"rgba( 239, 83, 80, 0.05)",BASELINE_BOTTOM_FILL_COLOR2:"rgba( 239, 83, 80, 0.28)",HISTOGRAM_COLOR:"#26a69a",CHART_TEXT_COLOR:"black"}}},11736:(t,e,n)=>{n.d(e,{c:()=>a});const a={ChartContainer:"ChartContainer_Hwvl"}},14640:t=>{t.exports=["4.1","4.0","3.8"]}}]);