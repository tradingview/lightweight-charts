import{q as p,R as w,j as f,a as m}from"./lightweight-charts.production-Co-rHmTL.js";import{a as x}from"./sample-data-x_8-FZm1.js";import{P as b}from"./plugin-base-8m8IYSME.js";class S{_viewData;constructor(t){this._viewData=t}draw(t){const e=this._viewData.data;t.useBitmapCoordinateSpace(i=>{const o=i.context,d=0,l=i.bitmapSize.height,s=i.horizontalPixelRatio*this._viewData.barWidth/2,u=-1*(s+1),g=i.bitmapSize.width;e.forEach(n=>{const r=n.x*i.horizontalPixelRatio;if(r<u)return;o.fillStyle=n.color||"rgba(0, 0, 0, 0)";const h=Math.max(0,Math.round(r-s)),_=Math.min(g,Math.round(r+s));o.fillRect(h,d,_-h,l)})})}}class D{_source;_data;constructor(t){this._source=t,this._data={data:[],barWidth:6,options:this._source._options}}update(){const t=this._source.chart.timeScale();this._data.data=this._source._backgroundColors.map(e=>({x:t.timeToCoordinate(e.time)??-100,color:e.color})),this._data.data.length>1?this._data.barWidth=this._data.data[1].x-this._data.data[0].x:this._data.barWidth=6}renderer(){return new S(this._data)}zOrder(){return"bottom"}}const V={};class v extends b{_paneViews;_seriesData=[];_backgroundColors=[];_options;_highlighter;constructor(t,e={}){super(),this._highlighter=t,this._options={...V,...e},this._paneViews=[new D(this)]}updateAllViews(){this._paneViews.forEach(t=>t.update())}paneViews(){return this._paneViews}attached(t){super.attached(t),this.dataUpdated("full")}dataUpdated(t){this._backgroundColors=this.series.data().map(e=>({time:e.time,color:this._highlighter(e.time)})),this.requestUpdate()}}const y=window.chart=p("chart",{autoSize:!0}),c=y.addSeries(w),z=x();c.setData(z);function C(a){return f(a)?new Date(a*1e3):m(a)?new Date(a.year,a.month,a.day):new Date(a)}const P=a=>{const e=C(a).getDay();return e===0||e===6?"rgba(255, 152, 1, 0.08)":"rgba(41, 98, 255, 0.08)"},R=new v(P);c.attachPrimitive(R);
