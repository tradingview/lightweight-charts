import{y as m,q as _}from"./lightweight-charts.production-Co-rHmTL.js";import{a as f,p as B}from"./positions-t2UKkghX.js";import{m as v}from"./sample-data-x_8-FZm1.js";import{C as b}from"./highlight-bar-crosshair-CrUiON1W.js";const w={...m,colors:["#2962FF","#E1575A","#F28E2C","rgb(164, 89, 209)","rgb(27, 156, 133)"]};class x{_data=null;_options=null;draw(t,s){t.useBitmapCoordinateSpace(r=>this._drawImpl(r,s))}update(t,s){this._data=t,this._options=s}_drawImpl(t,s){if(this._data===null||this._data.bars.length===0||this._data.visibleRange===null||this._options===null)return;const r=this._options,h=this._data.barSpacing,d=this._data.bars.map(i=>{const n=i.originalData.values.length,a=h/(n+1),c=a/2+i.x-h/2+a/2;return{singleBarWidth:a,singleBars:i.originalData.values.map((o,e)=>({y:s(o)??0,color:r.colors[e%r.colors.length],x:c+e*a}))}}),g=s(0)??0;for(let i=this._data.visibleRange.from;i<this._data.visibleRange.to;i++){const n=d[i];let a;n.singleBars.forEach(l=>{const c=f(g,l.y,t.verticalPixelRatio),o=B(l.x,t.horizontalPixelRatio,n.singleBarWidth);t.context.beginPath(),t.context.fillStyle=l.color;const e=a?o.position-a:0;t.context.fillRect(o.position-e,c.position,o.length+e,c.length),a=o.position+o.length})}}}class S{_renderer;constructor(){this._renderer=new x}priceValueBuilder(t){return[0,...t.values]}isWhitespace(t){return!t.values?.length}renderer(){return this._renderer}update(t,s){this._renderer.update(t,s)}defaultOptions(){return w}}const y=window.chart=_("chart",{autoSize:!0,timeScale:{barSpacing:16,minBarSpacing:8}}),P=new S,u=y.addCustomSeries(P,{color:"black"}),R=v(3,200,20);u.setData(R);u.attachPrimitive(new b({color:"rgba(0, 100, 200, 0.2)"}));
