var r=Object.defineProperty;var h=(i,s,e)=>s in i?r(i,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[s]=e;var l=(i,s,e)=>h(i,typeof s!="symbol"?s+"":s,e);class _{constructor(){l(this,"_listeners",[])}subscribe(s,e,t){const n={callback:s,linkedObject:e,singleshot:t===!0};this._listeners.push(n)}unsubscribe(s){const e=this._listeners.findIndex(t=>s===t.callback);e>-1&&this._listeners.splice(e,1)}unsubscribeAll(s){this._listeners=this._listeners.filter(e=>e.linkedObject!==s)}fire(s){const e=[...this._listeners];this._listeners=this._listeners.filter(t=>!t.singleshot),e.forEach(t=>t.callback(s))}hasListeners(){return this._listeners.length>0}destroy(){this._listeners=[]}}export{_ as D};
