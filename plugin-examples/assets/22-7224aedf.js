var _=Object.defineProperty;var B=(o,t,n)=>t in o?_(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n;var f=(o,t,n)=>(B(o,typeof t!="symbol"?t+"":t,n),n);import{T as w,C as v}from"./lightweight-charts.production-4c209066.js";import{a as C}from"./positions-0a54307c.js";import{m as b}from"./sample-data-c7d89ab8.js";const x={...w,colors:["#2962FF","#E1575A","#F28E2C","rgb(164, 89, 209)","rgb(27, 156, 133)"]},M=4,W=1;function d(o,t){return Math.ceil(o*t)<=W?0:Math.max(1,Math.floor(t))}function R(o,t,n){return Math.round(o*t)-(n??d(o,t))}function S(o,t){const n=d(o,t),i=R(o,t,n),l=i%2===0,c=(i-(l?0:1))/2;return{spacing:n,shiftLeft:l,columnHalfWidthBitmap:c,horizontalPixelRatio:t}}function L(o,t,n){const i=o*t.horizontalPixelRatio,l=Math.round(i),c={left:l-t.columnHalfWidthBitmap,right:l+t.columnHalfWidthBitmap-(t.shiftLeft?1:0),shiftLeft:l>i},s=t.spacing+1;return n&&c.left-n.right!==s&&(n.shiftLeft?n.right=c.left-s:c.left=n.right+s),c}function k(o,t,n,i,l){const c=S(t,n);let s;for(let a=i;a<Math.min(l,o.length);a++)o[a].column=L(o[a].x,c,s),s=o[a].column;const e=o.reduce((a,r,u)=>{if(!r.column||u<i||u>l)return a;r.column.right<r.column.left&&(r.column.right=r.column.left);const h=r.column.right-r.column.left+1;return Math.min(a,h)},Math.ceil(t*n));c.spacing>0&&e<M&&o.forEach((a,r)=>!a.column||r<i||r>l?void 0:a.column.right-a.column.left+1<=e?a:(a.column.shiftLeft?a.column.right-=1:a.column.left+=1,a.column))}function E(o){let t=0;return o.map(n=>{const i=t+n;return t=i,i})}class y{constructor(){f(this,"_data",null);f(this,"_options",null)}draw(t,n){t.useBitmapCoordinateSpace(i=>this._drawImpl(i,n))}update(t,n){this._data=t,this._options=n}_drawImpl(t,n){if(this._data===null||this._data.bars.length===0||this._data.visibleRange===null||this._options===null)return;const i=this._options,l=this._data.bars.map(s=>({x:s.x,ys:E(s.originalData.values).map(e=>n(e)??0)}));k(l,this._data.barSpacing,t.horizontalPixelRatio,this._data.visibleRange.from,this._data.visibleRange.to);const c=n(0)??0;t.context.save();for(let s=this._data.visibleRange.from;s<this._data.visibleRange.to;s++){const e=l[s],a=e.column;if(!a)return;let r=c;const u=Math.min(Math.max(t.horizontalPixelRatio,a.right-a.left),this._data.barSpacing*t.horizontalPixelRatio);e.ys.forEach((h,p)=>{const g=i.colors[p%i.colors.length],m=C(r,h,t.verticalPixelRatio);t.context.fillStyle=g,t.context.fillRect(a.left,m.position,u,m.length),r=h})}t.context.restore()}}class F{constructor(){f(this,"_renderer");this._renderer=new y}priceValueBuilder(t){return[0,t.values.reduce((n,i)=>n+i,0)]}isWhitespace(t){var n;return!((n=t.values)!=null&&n.length)}renderer(){return this._renderer}update(t,n){this._renderer.update(t,n)}defaultOptions(){return x}}const H=window.chart=v("chart",{autoSize:!0,timeScale:{minBarSpacing:3}}),V=new F,A=H.addCustomSeries(V,{color:"black"}),O=b(3,200,20);A.setData(O);
