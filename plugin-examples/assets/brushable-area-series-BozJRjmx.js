import{y as v}from"./lightweight-charts.production-BQu0Tfey.js";const R={...v,lineColor:"rgb(40,98,255)",topColor:"rgba(40,98,255, 0.4)",bottomColor:"rgba(40,98,255, 0)",lineWidth:2,basePrice:0,brushRanges:[]};class m{_data=null;_options=null;draw(a,o){a.useBitmapCoordinateSpace(s=>this._drawImpl(s,o))}update(a,o){this._data=a,this._options=o}_drawImpl(a,o){if(this._data===null||this._data.bars.length===0||this._data.visibleRange===null||this._options===null)return;const s=this._options,u=this._data.bars.map(t=>({x:Math.round(t.x*a.horizontalPixelRatio),y:o(t.originalData.value)*a.verticalPixelRatio})),i=a.context,g=a.bitmapSize.height,_=t=>{if(typeof s.brushRanges=="string")return s;const e=s.brushRanges.findIndex(r=>t>=r.range.from&&t<r.range.to);return e>=0?s.brushRanges[e].style:s},h=new Array(this._data.visibleRange.to),d=u[this._data.visibleRange.from];let c=d.y;for(let t=this._data.visibleRange.from+1;t<this._data.visibleRange.to;t++){h[t]=_(t);const e=u[t];e.y<c&&(c=e.y)}const b=new Map;function p(t,e){const r=t+e;if(b.has(r))return b.get(r);const l=i.createLinearGradient(0,g,0,c);return l.addColorStop(0,t),l.addColorStop(1,e),b.set(r,l),l}let n=[d.x,d.y];for(let t=this._data.visibleRange.from+1;t<this._data.visibleRange.to;t++){const e=u[t],r=h[t];i.beginPath(),i.moveTo(n[0],n[1]),i.lineTo(e.x,e.y),i.lineTo(e.x,g),i.lineTo(n[0],g),i.closePath(),i.fillStyle=p(r.bottomColor,r.topColor),i.fill(),n=[e.x,e.y]}n=[d.x,d.y];for(let t=this._data.visibleRange.from+1;t<this._data.visibleRange.to;t++){const e=u[t],r=h[t],l=t>0?h[t-1]!==r:!1,y=t===this._data.visibleRange.to-1?!0:h[t+1]!==r;l&&(i.beginPath(),i.moveTo(n[0],n[1])),i.lineTo(e.x,e.y),y&&(i.strokeStyle=r.lineColor,i.lineWidth=r.lineWidth*a.verticalPixelRatio,i.stroke()),n=[e.x,e.y]}}}class C{_renderer;constructor(){this._renderer=new m}priceValueBuilder(a){return[a.value]}isWhitespace(a){return a.value===void 0}renderer(){return this._renderer}update(a,o){this._renderer.update(a,o)}defaultOptions(){return R}}export{C as B};
