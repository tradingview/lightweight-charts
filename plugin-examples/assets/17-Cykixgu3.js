import{q as w,n as P}from"./lightweight-charts.production-BQu0Tfey.js";import{g as x}from"./sample-data-x_8-FZm1.js";const _=40,f=3,b=2,m=10,h=12,y=4;class T{_data=null;update(e){this._data=e}draw(e){e.useMediaCoordinateSpace(i=>{if(!this._data)return;const s=this._calculatePriceScale(i.mediaSize.height,this._data),a=s.reduce((c,l)=>Math.max(c,l.label.length),0),r="".padEnd(a,"0"),t=i.context,n=this._data.options.side==="left";t.font=`${h}px -apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif`,t.textAlign="center",t.textBaseline="top";const o=t.measureText(r).width,u=n?m:i.mediaSize.width-m-o,g=u+f+Math.round(o/2);s.forEach(c=>{t.beginPath();const l=c.y-h/2;t.roundRect(u,l,o+f*2,h+2*b,y),t.fillStyle=this._data.options.backgroundColor,t.fill(),t.beginPath(),t.fillStyle=this._data.options.textColor,t.fillText(c.label,g,l+b,o)})})}_calculatePriceScale(e,i){const s=[],a=Math.round(_/4);let r=a;for(;r<=e-a;)s.push(r),r+=_;return s.map(n=>{const d=i.coordinateToPrice(n);return d===null?null:{label:i.priceFormatter.format(d),y:n}}).filter(n=>!!n)}}class v{_renderer;constructor(){this._renderer=new T}renderer(){return this._renderer}update(e){this._renderer.update(e)}}const L={textColor:"rgb(0, 0, 0)",backgroundColor:"rgba(255, 255, 255, 0.6)",side:"left"};class C{_paneViews;_chart=null;_series=null;_requestUpdate;_options;constructor(e){this._options={...L,...e},this._paneViews=[new v]}applyOptions(e){this._options={...this._options,...e},this._requestUpdate&&this._requestUpdate()}attached({chart:e,series:i,requestUpdate:s}){this._chart=e,this._series=i,this._requestUpdate=s}detached(){this._chart=null,this._series=null}updateAllViews(){if(!this._series||!this._chart)return;const e=t=>this._series.coordinateToPrice(t),i=t=>this._series.priceToCoordinate(t),s=this._series.priceFormatter(),a=this._options,r={coordinateToPrice:e,priceToCoordinate:i,priceFormatter:s,options:a};this._paneViews.forEach(t=>t.update(r))}paneViews(){return this._paneViews}}const M=window.chart=w("chart",{autoSize:!0,rightPriceScale:{visible:!1},grid:{horzLines:{visible:!1}}}),S=M.addSeries(P,{priceScaleId:"overlay"}),V=x();S.setData(V);S.attachPrimitive(new C({}));
