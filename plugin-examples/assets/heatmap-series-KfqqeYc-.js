import{y as f}from"./lightweight-charts.production-DvNXqfdG.js";import{f as p}from"./full-width-DhW7rAVF.js";import{a as m}from"./positions-t2UKkghX.js";const _={...f,lastValueVisible:!1,priceLineVisible:!1,cellShader:d=>{const t=Math.min(Math.max(0,d),100);return`rgba(0, ${100+t*1.55}, ${0+t}, ${.2+t*.8})`},cellBorderWidth:1,cellBorderColor:"transparent"};class x{_data=null;_options=null;draw(t,i){t.useBitmapCoordinateSpace(l=>this._drawImpl(l,i))}update(t,i){this._data=t,this._options=i}_drawImpl(t,i){if(this._data===null||this._data.bars.length===0||this._data.visibleRange===null||this._options===null)return;const l=this._options,c=this._data.bars.map(a=>({x:a.x,cells:a.originalData.cells.map(r=>({amount:r.amount,low:i(r.low),high:i(r.high)}))})),e=this._data.barSpacing>l.cellBorderWidth*3;for(let a=this._data.visibleRange.from;a<this._data.visibleRange.to;a++){const r=c[a],s=p(r.x,this._data.barSpacing/2,t.horizontalPixelRatio),o=e?l.cellBorderWidth*t.horizontalPixelRatio:0,n=e?l.cellBorderWidth*t.verticalPixelRatio:0;for(const u of r.cells){const h=m(u.low,u.high,t.verticalPixelRatio);t.context.fillStyle=l.cellShader(u.amount),t.context.fillRect(s.position+o,h.position+n,s.length-o*2,h.length-1-n*2),e&&l.cellBorderWidth&&l.cellBorderColor!=="transparent"&&(t.context.beginPath(),t.context.rect(s.position+o/2,h.position+n/2,s.length-o,h.length-1-n),t.context.strokeStyle=l.cellBorderColor,t.context.lineWidth=o,t.context.stroke())}}}}class W{_renderer;constructor(){this._renderer=new x}priceValueBuilder(t){if(t.cells.length<1)return[NaN];let i=1/0,l=-1/0;t.cells.forEach(e=>{e.low<i&&(i=e.low),e.high>l&&(l=e.high)});const c=i+(l-i)/2;return[i,l,c]}isWhitespace(t){return t.cells===void 0||t.cells.length<1}renderer(){return this._renderer}update(t,i){this._renderer.update(t,i)}defaultOptions(){return _}}export{W as H};
