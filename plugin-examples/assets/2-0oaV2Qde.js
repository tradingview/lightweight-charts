import{q as _,n as w}from"./lightweight-charts.production-BQu0Tfey.js";import{g as x}from"./sample-data-x_8-FZm1.js";class g{_data;constructor(t){this._data=t}draw(t){t.useMediaCoordinateSpace(a=>{const e=a.context;e.font=this._data.font;const d=e.measureText(this._data.text).width,n=20;let i=n;const h=a.mediaSize.width,o=a.mediaSize.height;switch(this._data.horzAlign){case"right":{i=h-n-d;break}case"middle":{i=h/2-d/2;break}}const c=10,l=this._data.lineHeight;let s=c+l;switch(this._data.vertAlign){case"middle":{s=o/2+l/2;break}case"bottom":{s=o-c;break}}e.fillStyle=this._data.color,e.fillText(this._data.text,i,s)})}}class m{_source;constructor(t){this._source=t}update(){}renderer(){return new g(this._source._data)}}class A{_paneViews;_data;constructor(t){this._data=t,this._paneViews=[new m(this)]}updateAllViews(){this._paneViews.forEach(t=>t.update())}paneViews(){return this._paneViews}requestUpdate;attached({requestUpdate:t}){this.requestUpdate=t}detached(){this.requestUpdate=void 0}applyOptions(t){this._data={...this._data,...t},this.requestUpdate&&this.requestUpdate()}}const f=window.chart=_("chart",{autoSize:!0}),p=f.addSeries(w);p.setData(x());const u=new A({vertAlign:"middle",horzAlign:"middle",text:"Anchored Text",lineHeight:54,font:"italic bold 54px Arial",color:"red"});p.attachPrimitive(u);setTimeout(()=>{u.applyOptions({text:"New Text"})},2e3);
