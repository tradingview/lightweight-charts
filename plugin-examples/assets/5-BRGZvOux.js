import{y,q as L}from"./lightweight-charts.production-BQu0Tfey.js";import{p as d,a as f}from"./positions-t2UKkghX.js";import{g as R,c as W}from"./candles-njcwq1Ro.js";const k={...y,whiskerColor:"rgba(106, 27, 154, 1)",lowerQuartileFill:"rgba(103, 58, 183, 1)",upperQuartileFill:"rgba(233, 30, 99, 1)",outlierColor:"rgba(149, 152, 161, 1)"};function v(h){const t=W(h,1),i=Math.floor(h),e=W(h/2,1);return{body:t,medianLine:Math.max(i,t),extremeLines:e,outlierRadius:Math.min(t,4)}}class C{_data=null;_options=null;draw(t,i){t.useBitmapCoordinateSpace(e=>this._drawImpl(e,i))}update(t,i){this._data=t,this._options=i}_drawImpl(t,i){if(this._data===null||this._data.bars.length===0||this._data.visibleRange===null||this._options===null)return;const e=this._options,a=this._data.bars.map(o=>({quartilesY:o.originalData.quartiles.map(s=>i(s)??0),outliers:(o.originalData.outliers||[]).map(s=>i(s)??0),x:o.x})),l=v(this._data.barSpacing),r=R(t.horizontalPixelRatio),n=R(t.verticalPixelRatio);for(let o=this._data.visibleRange.from;o<this._data.visibleRange.to;o++){const s=a[o];l.outlierRadius>2&&this._drawOutliers(t.context,s,l.outlierRadius,e,t.horizontalPixelRatio,t.verticalPixelRatio),this._drawWhisker(t.context,s,l.extremeLines,e,t.horizontalPixelRatio,t.verticalPixelRatio,r,n),this._drawBox(t.context,s,l.body,e,t.horizontalPixelRatio,t.verticalPixelRatio),this._drawMedianLine(t.context,s,l.medianLine,e,t.horizontalPixelRatio,t.verticalPixelRatio,n)}}_drawWhisker(t,i,e,a,l,r,n,o){t.save(),t.fillStyle=a.whiskerColor;const s=d(i.x,l,n),c=f(i.quartilesY[0],i.quartilesY[1],r);t.fillRect(s.position,c.position,s.length,c.length);const _=f(i.quartilesY[3],i.quartilesY[4],r);t.fillRect(s.position,_.position,s.length,_.length);const p=d(i.x,l,e),w=d(i.quartilesY[4],r,o);t.fillRect(p.position,w.position,p.length,w.length);const Y=d(i.quartilesY[0],r,o);t.fillRect(p.position,Y.position,p.length,Y.length),t.restore()}_drawBox(t,i,e,a,l,r){t.save();const n=f(i.quartilesY[2],i.quartilesY[3],r),o=f(i.quartilesY[1],i.quartilesY[2],r),s=d(i.x,l,e);t.fillStyle=a.lowerQuartileFill,t.fillRect(s.position,o.position,s.length,o.length),t.fillStyle=a.upperQuartileFill,t.fillRect(s.position,n.position,s.length,n.length),t.restore()}_drawMedianLine(t,i,e,a,l,r,n){const o=d(i.x,l,e),s=d(i.quartilesY[2],r,n);t.save(),t.fillStyle=a.whiskerColor,t.fillRect(o.position,s.position,o.length,s.length),t.restore()}_drawOutliers(t,i,e,a,l,r){t.save();const n=d(i.x,l,1,!0);t.fillStyle=a.outlierColor,t.lineWidth=0,i.outliers.forEach(o=>{t.beginPath();const s=d(o,r,1,!0);t.arc(n.position,s.position,e,0,2*Math.PI),t.fill(),t.closePath()}),t.restore()}}class z{_renderer;constructor(){this._renderer=new C}priceValueBuilder(t){return[t.quartiles[4],t.quartiles[0],t.quartiles[2]]}isWhitespace(t){return t.quartiles===void 0}renderer(){return this._renderer}update(t,i){this._renderer.update(t,i)}defaultOptions(){return k}}const q=24*60*60;function u(h,t,i,e,a,l){return[l+h,l+t,l+i,l+e,l+a]}function m(h,t){return[{quartiles:u(55,70,80,85,95,t)},{quartiles:u(50,70,78,83,90,t)},{quartiles:u(58,68,75,85,90,t),outliers:[45+t,50+t]},{quartiles:u(55,65,70,80,88,t)},{quartiles:u(52,63,68,77,85,t)},{quartiles:u(50,65,72,76,88,t),outliers:[45+t,95+t,100+t]},{quartiles:u(40,60,78,85,90,t)},{quartiles:u(45,72,80,88,95,t)},{quartiles:u(47,70,82,86,97,t)},{quartiles:u(53,68,83,87,92,t),outliers:[45+t,100+t]}].map((i,e)=>({...i,time:h+e*q}))}function B(){return[...m(1677628800,0),...m(1677628800+1*10*q,20),...m(1677628800+2*10*q,40),...m(1677628800+(3*10+1)*q,30)]}const g=window.chart=L("chart",{autoSize:!0}),M=new z,x=g.addCustomSeries(M,{baseLineColor:"",priceLineVisible:!1,lastValueVisible:!1}),D=B();x.setData(D);g.timeScale().fitContent();
