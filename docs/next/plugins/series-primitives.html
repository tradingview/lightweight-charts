<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-plugins/series-primitives">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Series Primitives | Lightweight Charts</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://tradingview.github.io/lightweight-charts/docs/next/plugins/series-primitives"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Series Primitives | Lightweight Charts"><meta data-rh="true" name="description" content="Primitives are extensions to the series which can define views and renderers to"><meta data-rh="true" property="og:description" content="Primitives are extensions to the series which can define views and renderers to"><link data-rh="true" rel="icon" href="/lightweight-charts/favicon.ico"><link data-rh="true" rel="canonical" href="https://tradingview.github.io/lightweight-charts/docs/next/plugins/series-primitives"><link data-rh="true" rel="alternate" href="https://tradingview.github.io/lightweight-charts/docs/next/plugins/series-primitives" hreflang="en"><link data-rh="true" rel="alternate" href="https://tradingview.github.io/lightweight-charts/docs/next/plugins/series-primitives" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://7Q5A441YPA-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Lightweight Charts" href="/lightweight-charts/opensearch.xml">







<link rel="apple-touch-icon" sizes="180x180" href="/lightweight-charts/img/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/lightweight-charts/img/favicon/32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/lightweight-charts/img/favicon/16x16.png">
<link rel="mask-icon" color="#2962ff" href="/lightweight-charts/img/favicon/safari-pinned-tab.svg">
<link rel="icon" type="image/svg" sizes="32x32" href="/lightweight-charts/img/favicon/favicon.svg"><link rel="stylesheet" href="/lightweight-charts/assets/css/styles.78f46101.css">
<link rel="preload" href="/lightweight-charts/assets/js/runtime~main.531bd6bd.js" as="script">
<link rel="preload" href="/lightweight-charts/assets/js/main.16b2a420.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" aria-label="Lightweight Charts home button" href="/lightweight-charts/"><div class="Logo_fYSA"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/lightweight-charts/docs/next">Getting Started</a><a class="navbar__item navbar__link" href="/lightweight-charts/tutorials">Tutorials</a><a class="navbar__item navbar__link" href="/lightweight-charts/docs/next/api">API Reference</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/lightweight-charts/docs/next">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/lightweight-charts/docs/next/plugins/series-primitives">Next</a></li><li><a class="dropdown__link" href="/lightweight-charts/docs/plugins/series-primitives">4.2</a></li><li><a class="dropdown__link" href="/lightweight-charts/docs/4.1/plugins/series-primitives">4.1</a></li><li><a class="dropdown__link" href="/lightweight-charts/docs/4.0">4.0</a></li><li><a class="dropdown__link" href="/lightweight-charts/docs/3.8">3.8</a></li><li><a href="https://github.com/tradingview/lightweight-charts/tree/v3.7.0/docs" target="_blank" rel="noopener noreferrer" class="dropdown__link">3.7.0<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><a href="https://github.com/tradingview/lightweight-charts" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lightweight-charts/docs/next">Getting started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lightweight-charts/docs/next/series-types">Series types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lightweight-charts/docs/next/price-scale">Price scale</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lightweight-charts/docs/next/time-scale">Time scale</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lightweight-charts/docs/next/time-zones">Working with time zones</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/lightweight-charts/docs/next/plugins/intro">Plugins</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lightweight-charts/docs/next/plugins/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/lightweight-charts/docs/next/plugins/series-primitives">Series Primitives</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lightweight-charts/docs/next/plugins/custom_series">Custom Series Types</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/lightweight-charts/docs/next/plugins/canvas-rendering-target">Canvas Rendering Target</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/lightweight-charts/docs/next/plugins/pixel-perfect-rendering">Pixel Perfect Rendering</a><button aria-label="Toggle the collapsible sidebar category &#x27;Pixel Perfect Rendering&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/lightweight-charts/docs/next/migrations/from-v2-to-v3">Migrations</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lightweight-charts/docs/next/ios">iOS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lightweight-charts/docs/next/android">Android</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/lightweight-charts/docs/next/release-notes">Release Notes</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Lightweight Charts<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/lightweight-charts/docs/plugins/series-primitives">latest version</a></b> (<!-- -->4.2<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/lightweight-charts/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Plugins</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Series Primitives</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Series Primitives</h1><p>Primitives are extensions to the series which can define views and renderers to
draw on the chart using
<a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D" target="_blank" rel="noopener noreferrer">CanvasRenderingContext2D</a>.</p><p>Primitives are defined by implementing the
<a href="/lightweight-charts/docs/next/api#iseriesprimitive"><code>ISeriesPrimitive</code></a> interface. The
interface defines the basic functionality and structure required for creating
custom primitives.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="views">Views<a href="#views" class="hash-link" aria-label="Direct link to Views" title="Direct link to Views">​</a></h2><p>The primary purpose of a series primitive is to provide one, or more, views to
the library which contain the state and logic required to draw on the chart
panes.</p><p>There are two types of views which are supported within <code>ISeriesPrimitive</code> which
are:</p><ul><li><a href="/lightweight-charts/docs/next/api/interfaces/ISeriesPrimitivePaneView"><code>ISeriesPrimitivePaneView</code></a></li><li><a href="/lightweight-charts/docs/next/api/interfaces/ISeriesPrimitiveAxisView"><code>ISeriesPrimitiveAxisView</code></a></li></ul><p>The library will evoke the following getter functions (if defined) to get
references to the primitive&#x27;s defined views for the corresponding section of the
chart:</p><ul><li><a href="/lightweight-charts/docs/next/api/interfaces/ISeriesPrimitiveBase#paneviews"><code>paneViews</code></a></li><li><a href="/lightweight-charts/docs/next/api/interfaces/ISeriesPrimitiveBase#priceaxispaneviews"><code>priceAxisPaneViews</code></a></li><li><a href="/lightweight-charts/docs/next/api/interfaces/ISeriesPrimitiveBase#timeaxispaneviews"><code>timeAxisPaneViews</code></a></li><li><a href="/lightweight-charts/docs/next/api/interfaces/ISeriesPrimitiveBase#priceaxisviews"><code>priceAxisViews</code></a></li><li><a href="/lightweight-charts/docs/next/api/interfaces/ISeriesPrimitiveBase#timeaxisviews"><code>timeAxisViews</code></a></li></ul><p>The first three views allow drawing on the corresponding panes (main chart pane,
price scale pane, and horizontal time scale pane) using the
<a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D" target="_blank" rel="noopener noreferrer">CanvasRenderingContext2D</a>
and should implement the <code>ISeriesPrimitivePaneView</code> interface.</p><p>The views returned by the <code>priceAxisViews</code> and <code>timeAxisViews</code> getter methods
should implement the <code>ISeriesPrimitiveAxisView</code> interface and are used to define
labels to be drawn on the corresponding scales.</p><p>Below is a visual example showing the various sections of the chart where a
Primitive can draw.</p><div class="iframe_R_Fr"> </div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="iseriesprimitivepaneview">ISeriesPrimitivePaneView<a href="#iseriesprimitivepaneview" class="hash-link" aria-label="Direct link to ISeriesPrimitivePaneView" title="Direct link to ISeriesPrimitivePaneView">​</a></h3><p>The <a href="/lightweight-charts/docs/next/api/interfaces/ISeriesPrimitivePaneView"><code>ISeriesPrimitivePaneView</code></a>
interface can be used to define a view which provides a renderer (implementing
the
<a href="/lightweight-charts/docs/next/api/interfaces/ISeriesPrimitivePaneRenderer"><code>ISeriesPrimitivePaneRenderer</code></a>
interface) for drawing on the corresponding area of the chart using the
<a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D" target="_blank" rel="noopener noreferrer">CanvasRenderingContext2D</a>
API. The view can define a
<a href="/lightweight-charts/docs/next/api/interfaces/ISeriesPrimitivePaneView#zorder"><code>zOrder</code></a> to control where
in the visual stack the drawing will occur (See
<a href="/lightweight-charts/docs/next/api#seriesprimitivepaneviewzorder"><code>SeriesPrimitivePaneViewZOrder</code></a>
for more information).</p><p>Renderers should provide a
<a href="/lightweight-charts/docs/next/api/interfaces/ISeriesPrimitivePaneRenderer#draw"><code>draw</code></a> method which will
be given a <code>CanvasRenderingTarget2D</code> target on which it can draw. Additionally,
a renderer can optionally provide a
<a href="/lightweight-charts/docs/next/api/interfaces/ISeriesPrimitivePaneRenderer#drawbackground"><code>drawBackground</code></a>
method for drawing beneath other elements on the same zOrder.</p><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p><code>CanvasRenderingTarget2D</code> is explained in more detail on the <a href="/lightweight-charts/docs/next/plugins/canvas-rendering-target">Canvas Rendering Target</a> page.</p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="interactive-demo-of-zorder-layers">Interactive Demo of zOrder layers<a href="#interactive-demo-of-zorder-layers" class="hash-link" aria-label="Direct link to Interactive Demo of zOrder layers" title="Direct link to Interactive Demo of zOrder layers">​</a></h4><p>Below is an interactive demo chart illustrating where each zOrder is drawn
relative to the existing chart elements such as the grid, series, and crosshair.</p><div class="iframe_R_Fr"> </div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="iseriesprimitiveaxisview">ISeriesPrimitiveAxisView<a href="#iseriesprimitiveaxisview" class="hash-link" aria-label="Direct link to ISeriesPrimitiveAxisView" title="Direct link to ISeriesPrimitiveAxisView">​</a></h3><p>The <a href="/lightweight-charts/docs/next/api/interfaces/ISeriesPrimitiveAxisView"><code>ISeriesPrimitiveAxisView</code></a>
interface can be used to define a label on the price or time axis.</p><p>This interface provides several methods to define the appearance and position of
the label, such as the
<a href="/lightweight-charts/docs/next/api/interfaces/ISeriesPrimitiveAxisView#coordinate"><code>coordinate</code></a> method,
which should return the desired coordinate for the label on the axis. It also
defines optional methods to set the fixed coordinate, text, text color,
background color, and visibility of the label.</p><p>Please see the
<a href="/lightweight-charts/docs/next/api/interfaces/ISeriesPrimitiveAxisView"><code>ISeriesPrimitiveAxisView</code></a>
interface for more details.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lifecycle-methods">Lifecycle Methods<a href="#lifecycle-methods" class="hash-link" aria-label="Direct link to Lifecycle Methods" title="Direct link to Lifecycle Methods">​</a></h2><p>Your primitive can use the
<a href="/lightweight-charts/docs/next/api/interfaces/ISeriesPrimitiveBase#attached"><code>attached</code></a> and
<a href="/lightweight-charts/docs/next/api/interfaces/ISeriesPrimitiveBase#detached"><code>detached</code></a> lifecycle methods to
manage the lifecycle of the primitive, such as creating or removing external
objects and event handlers.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="attached">attached<a href="#attached" class="hash-link" aria-label="Direct link to attached" title="Direct link to attached">​</a></h3><p>This method is called when the primitive is attached to a chart. The attached
method is evoked with a
<a href="/lightweight-charts/docs/next/api/interfaces/SeriesAttachedParameter">single argument</a> containing
properties for the chart, series, and a callback to request an update. The
<code>chart</code> and <code>series</code> properties are references to the chart API and the series
API instances for convenience purposes so that they don&#x27;t need to be manually
provided within the primitive&#x27;s constructor (if needed by the primitive).</p><p>The <code>requestUpdate</code> callback allows the primitive to notify the chart that it
should be updated and redrawn.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="detached">detached<a href="#detached" class="hash-link" aria-label="Direct link to detached" title="Direct link to detached">​</a></h3><p>This method is called when the primitive is detached from a chart. This can be
used to remove any external objects or event handlers that were created during
the attached lifecycle method.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="updating-views">Updating Views<a href="#updating-views" class="hash-link" aria-label="Direct link to Updating Views" title="Direct link to Updating Views">​</a></h2><p>Your primitive should update the views in the
<a href="/lightweight-charts/docs/next/api/interfaces/ISeriesPrimitiveBase#updateallviews"><code>updateAllViews()</code></a> method
such that when the renderers are evoked, they can draw with the latest
information. The library invokes this method when it wants to update and redraw
the chart. If you would like to notify the library that it should trigger an
update then you can use the <code>requestUpdate</code> callback provided by the attached
lifecycle method.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="extending-the-autoscale-info">Extending the Autoscale Info<a href="#extending-the-autoscale-info" class="hash-link" aria-label="Direct link to Extending the Autoscale Info" title="Direct link to Extending the Autoscale Info">​</a></h2><p>The <a href="/lightweight-charts/docs/next/api/interfaces/ISeriesPrimitiveBase#autoscaleinfo"><code>autoscaleInfo()</code></a>
method can be provided to extend the base autoScale information of the series.
This can be used to ensure that the chart is automatically scaled correctly to
include all the graphics drawn by the primitive.</p><p>Whenever the chart needs to calculate the vertical visible range of the series
within the current time range then it will evoke this method. This method can be
omitted and the library will use the normal autoscale information for the
series. If the method is implemented then the returned values will be merged
with the base autoscale information to define the vertical visible range.</p><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>Please note that this method will be evoked very often during
scrolling and zooming of the chart, thus it is recommended that this method is
either simple to execute, or makes use of optimisations such as caching to
ensure that the chart remains responsive.</p></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/lightweight-charts/docs/next/plugins/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Introduction</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/lightweight-charts/docs/next/plugins/custom_series"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Custom Series Types</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#views" class="table-of-contents__link toc-highlight">Views</a><ul><li><a href="#iseriesprimitivepaneview" class="table-of-contents__link toc-highlight">ISeriesPrimitivePaneView</a></li><li><a href="#iseriesprimitiveaxisview" class="table-of-contents__link toc-highlight">ISeriesPrimitiveAxisView</a></li></ul></li><li><a href="#lifecycle-methods" class="table-of-contents__link toc-highlight">Lifecycle Methods</a><ul><li><a href="#attached" class="table-of-contents__link toc-highlight">attached</a></li><li><a href="#detached" class="table-of-contents__link toc-highlight">detached</a></li></ul></li><li><a href="#updating-views" class="table-of-contents__link toc-highlight">Updating Views</a></li><li><a href="#extending-the-autoscale-info" class="table-of-contents__link toc-highlight">Extending the Autoscale Info</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/lightweight-charts/docs">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/lightweight-charts/tutorials">Tutorials</a></li><li class="footer__item"><a class="footer__link-item" href="/lightweight-charts/docs/api">API Reference</a></li></ul></div><div class="col footer__col"><div class="footer__title">Lightweight Charts™ Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/lightweight-charts" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/UC7cGkvn4U" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/tradingview" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.tradingview.com/charting-library-docs/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Advanced Charts<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.tradingview.com/widget/" target="_blank" rel="noopener noreferrer" class="footer__link-item">TradingView Widgets<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 TradingView, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/lightweight-charts/assets/js/runtime~main.531bd6bd.js"></script>
<script src="/lightweight-charts/assets/js/main.16b2a420.js"></script>
</body>
</html>